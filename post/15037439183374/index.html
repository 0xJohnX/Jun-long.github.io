<!DOCTYPE html>
<html lang="en-us">
<head>

    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    
    
        
        <meta name="twitter:card" content="summary_large_image"/>
        <meta name="twitter:image" content="https://i.loli.net/2017/08/18/59969202df8a8.jpg"/>
    



<meta name="twitter:title" content="树莓派 &#43; Home Assistant &#43; HomeKit 从零开始打造个人智能家居系统（1）：前言"/>
<meta name="twitter:description" content=""/>
<meta name="twitter:site" content="@"/>



  	<meta property="og:title" content="树莓派 &#43; Home Assistant &#43; HomeKit 从零开始打造个人智能家居系统（1）：前言 &middot; 智能改造家" />
  	<meta property="og:site_name" content="智能改造家" />
  	<meta property="og:url" content="https://jun-long.github.io/post/15037439183374/" />

    
       <meta property="og:image" content="https://i.loli.net/2017/08/18/59969202df8a8.jpg"/>
    

    
    <meta property="og:description" content="" />
  	<meta property="og:type" content="article" />
    <meta property="article:published_time" content="2017-08-22T21:49:19&#43;08:00" />

    
    

    <title>树莓派 &#43; Home Assistant &#43; HomeKit 从零开始打造个人智能家居系统（1）：前言 &middot; 智能改造家</title>

    
    <meta name="description" content="&lt;blockquote&gt;
&lt;p&gt;通过本篇教程，你将对智能家居以及打造个人智能家居系统过程中要用到的各种概念、设备与技术有一个初步的印象。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;随着科技巨头的入场，智能家居不但从比尔盖茨当年的预言中走入现实，而且在平台化的力量下，成为了消费者能够轻松入手的产品。亲自打造个人的智能家" />
    

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="https://jun-long.github.io/images/favicon.ico">
	  <link rel="apple-touch-icon" href="https://jun-long.github.io/images/apple-touch-icon.png" />

    <link rel="stylesheet" type="text/css" href="https://jun-long.github.io/css/screen.css" />
    <link rel="stylesheet" type="text/css" href="https://jun-long.github.io/css/nav.css" />

    

    
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/styles/default.min.css">
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
        
        <script>hljs.initHighlightingOnLoad();</script>
    

    
        <link href="http://feeds.feedburner.com/..." rel="alternate" type="application/rss+xml" title="智能改造家" />
    
    <meta name="generator" content="Hugo 0.26" />

    <link rel="canonical" href="https://jun-long.github.io/post/15037439183374/" />

    
      
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": ,
        "logo": https://jun-long.github.io/images/logo.png
    },
    "author": {
        "@type": "Person",
        "name": ,
        
        "image": {
            "@type": "ImageObject",
            "url": https://jun-long.github.io/images/logo.png,
            "width": 250,
            "height": 250
        }, 
        
        "url": https://jun-long.github.io,
        "sameAs": [
            
            
             
             
             
             
             
            
        ],
        "description": 智能改造家
        
    },
    "headline": 树莓派 &#43; Home Assistant &#43; HomeKit 从零开始打造个人智能家居系统（1）：前言,
    "name": 树莓派 &#43; Home Assistant &#43; HomeKit 从零开始打造个人智能家居系统（1）：前言,
    "wordCount": 131,
    "timeRequired": "PT1M",
    "inLanguage": {
      "@type": "Language",
      "alternateName": en
    },
    "url": https://jun-long.github.io/post/15037439183374/,
    "datePublished": 2017-08-22T21:49Z,
    "dateModified": 2017-08-22T21:49Z,
    
    "image": {
        "@type": "ImageObject",
        "url": https://jun-long.github.io/https://i.loli.net/2017/08/18/59969202df8a8.jpg,
        "width": 3000,
        "height": 1445
    },
    
    
    "description": ,
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": https://jun-long.github.io/post/15037439183374/
    }
}
    </script>
    


    

    

    
</head>
<body class="nav-closed">

  <div class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="#" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul>
        
        
        
            
            <li class="nav-opened" role="presentation">
            	<a href="https://jun-long.github.io/">Home</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
            	<a href="https://jun-long.github.io/post/">Archives</a>
            </li>
        
        
    </ul>

    
    <a class="subscribe-button icon-feed" href="http://feeds.feedburner.com/...">Subscribe</a> </div>
    
</div>
<span class="nav-cover"></span>


 <div class="site-wrapper">



  
  <header class="main-header post-head" style="background-image: url(https://i.loli.net/2017/08/18/59969202df8a8.jpg)">
  
  <nav class="main-nav overlay clearfix">


  
      <a class="blog-logo" href="https://jun-long.github.io/"><img src="https://jun-long.github.io/images/logo.png" alt="Home" /></a>
  
  
      <a class="menu-button" href="#"><span class="burger">&#9776;</span><span class="word">Menu</span></a>
  
  </nav>
</header>



<main class="content" role="main">




  <article class="post post">

    <header class="post-header">
        <h1 class="post-title">树莓派 &#43; Home Assistant &#43; HomeKit 从零开始打造个人智能家居系统（1）：前言</h1>
        <small></small>

        <section class="post-meta">
        
          <time class="post-date" datetime="2017-08-22T21:49:19&#43;08:00">
            Aug 22, 2017
          </time>
        
         
        </section>
    </header>

    <section class="post-content">
      <blockquote>
<p>通过本篇教程，你将对智能家居以及打造个人智能家居系统过程中要用到的各种概念、设备与技术有一个初步的印象。</p>
</blockquote>

<p>随着科技巨头的入场，智能家居不但从比尔盖茨当年的预言中走入现实，而且在平台化的力量下，成为了消费者能够轻松入手的产品。亲自打造个人的智能家居系统已不是难事，本文将从零开始，更加系统地讲解打造个人智能家居的各个环节，以期哪怕是零基础的小白也能够轻松入门玩耍。
由于是零基础教程，在系列文章的首篇，我会先展示最终的使用效果，再用一定篇幅介绍市面上的智能家居平台，最后简单介绍搭建个人智能家居系统所用到的设备、软件、平台、系统结构，有基础的极客玩家可选择性阅读。</p>

<p></p>

<h2 id="一-最终使用效果">一、最终使用效果</h2>

<p>本系统能够使用 iOS（HomeKit） 设备以及 Web 页面（Home Assistant）直接操作，除此之外，通过 Home Assistant 的自动化设置，能够实现更多的功能，将会在之后的文章中介绍。
<img src="https://i.loli.net/2017/08/22/599c322ec1a2d.gif" alt="iOS 家庭" />
▲ iOS 家庭</p>

<p><img src="https://i.loli.net/2017/08/22/599bdd21b03b9.jpg" alt="iOS 家庭" />
▲ iOS 家庭</p>

<p><img src="https://i.loli.net/2017/08/22/599bde4b3bc27.jpg" alt="Siri控制 &amp; 消息通知" />
▲ Siri控制 &amp; 消息通知</p>

<p><img src="https://ooo.0o0.ooo/2017/08/18/5996bfe627d6e.png" alt="Home Assistant 首页" />
▲ Home Assistant 首页</p>

<p><img src="https://i.loli.net/2017/08/18/5996bfe63b575.png" alt="Home Assistant 按房间分类控制" />
▲ Home Assistant 按房间分类控制</p>

<p><img src="https://i.loli.net/2017/08/22/599bd84960887.png" alt="Home Assistant 天气页面" />
▲ Home Assistant 天气页面</p>

<p><img src="https://i.loli.net/2017/08/18/5996bfe6297b7.png" alt="Home Assistant 基于平面图的可视化控制" />
▲ Home Assistant 基于平面图的可视化控制</p>

<h2 id="二-智能家居能干什么">二、智能家居能干什么</h2>

<p>一张图简要说明智能家居的功能与实现方式。</p>

<p><img src="https://i.loli.net/2017/08/22/599c336037372.jpg" alt="功能与实现" />
▲ 功能与实现</p>

<h2 id="三-智能家居平台">三、智能家居平台</h2>

<p>我将 DIY 以外的智能家居平台（硬件）分成两种模式。</p>

<blockquote>
<ol>
<li>平台化模式，一个供智能家居硬件设备接入的平台，不限制设备的具体参数，平台统筹全部设备、统一通信协议与数据，在一个 App 或页面内控制这些来自不同品牌的智能家居硬件，由平台实现更高级的自动化控制、语音控制。</li>
<li>系统化模式，主要由具体的智能家居硬件品牌商独自研发，通常有独立的 App 控制，互不兼容。</li>
</ol>
</blockquote>

<p><img src="https://ooo.0o0.ooo/2017/08/22/599c338816eaf.jpg" alt="智能家居平台" />
▲产品级智能家居平台</p>

<p>智能家居之所以智能，设备间的通信是基础。无数厂家的涌入开启了万物互联时代，而由于商业或技术的原因，上述的平台或者品牌，相互之间大多是不兼容的。</p>

<blockquote>
<ul>
<li>Apple HomeKit 苹果的家庭 App 在美观和易用性方面值得很多厂家学习，与 iOS 的深度整合是其他品牌无法比拟的，是 iOS 设备用户的第一选择。但是由于 HomeKit 授权的问题，目前接入设备较少，主要为国外品牌，价格较贵。</li>
<li>小米在国内布局智能家居多年，额外的软件公司属性使得小米的米家 App 比众多不那么好用的 App 优秀不少，米家智能平台的开放，增加了设备的可玩性，目前要注意区分小米、米家、有品、小米生态链企业……</li>
<li>阿里与京东依托渠道优势，就接入设备的种类而言是最多的。由于系统的封闭性，你可能会遇到在淘宝买到设备连不上京东的 App，当然，也没有开放平台。</li>
<li>传统智能家居厂商需要在住宅的施工期介入，提前布线与规划，能够提供更完善的家居体验，成本最高，终端控制设备的用户体验不佳。</li>
<li>独立的厂家也有很多小而美的产品，用户体验也很棒，但想用这些设备实现一些改造，设备的保有量和用户基数是一个问题，更广泛的用户全体是一个生态繁荣的保证。</li>
<li>至于传统家电厂商的智能化路程，我不关心有什么故事，我只想请他们多花点钱请程序员与设计师。</li>
</ul>
</blockquote>

<h2 id="四-树莓派-home-assistant-homekit">四、树莓派 + Home Assistant + HomeKit</h2>

<p>根据我自身的情况，我最终选择了小米的智能家居设备，改造目标有两点：</p>

<blockquote>
<ul>
<li>在 iOS 终端使用 HomeKit 操控设备。</li>
<li>更高级的自动化配置，使智能家居实至名归。</li>
</ul>
</blockquote>

<p>除了平台间的兼容问题外，由于智能硬件设备自有平台本身的局限性，也使得智能家居不那么智能，用户体验也很不好，智能家居成了遥控家居。比如小米的自动化设置只能固定时间段，无法像 HomeKit 那样以日出日落时间为条件，季节变换，自动化就要重设一遍。
为了实现目标，我采用的是一个开源智能家居平台<a href="https://home-assistant.io/">Home Assistant</a> 。所有设备首先接入 Home Assistant，通过 <a href="https://github.com/home-assistant/homebridge-homeassistant">homeassistant-homebridge</a> 插件实现接入 HomeKit，整套系统部署在树莓派上。结构如下：
<img src="https://i.loli.net/2017/08/18/5996b10a0d19f.jpg" alt="系统结构" />
▲系统结构</p>

<blockquote>
<ul>
<li><a href="https://home-assistant.io/">Home Assistant</a> 是一个基于 Python 3 开发的开源家庭自动化平台。可以跟踪和控制家庭中的所有设备，并实现自动化控制。不同于商业化的平台，Home Assistant 依托的是庞大的社群，目前支持 779 种不同组件，在 Github 上还有更多的定制组件，0.50 版本后，能够直接接入小米设备。它最大的优势在于丰富的自动化配置以及高度自由的定制化。</li>
<li><a href="https://www.raspberrypi.org/">树莓派</a> 是由树莓派基金会研发的一种只有信用卡大小的单板机电脑，最初的设计目标是用较为廉价的硬件和开源软件为儿童提供一个计算机教育平台。但其优秀的扩展性和易于开发的特性，使其不仅仅用于儿童教育，更是成为了极客们的玩具。树莓派被开发出了千千万万种玩法，并且普通人也可以轻松实现。感兴趣的请深入阅读“少数派”的文章<a href="https://sspai.com/post/38542">树莓派入门指南</a>。</li>
<li><a href="https://github.com/nfarina/homebridge">Home Bridge</a> 是前苹果员工的作品，基于 NodeJS，模拟 iOS HomeKit API。有如其名，作为“桥”来连接 iOS 设备，使得本不支持 HomeKit 的设备能够接入。</li>
</ul>
</blockquote>

<h2 id="五-下节预告">五、下节预告</h2>

<ul>
<li>Home Assistant 的安装与配置</li>
</ul>
    </section>


  <footer class="post-footer">


    








<figure class="author-image">
    <a class="img" href="https://jun-long.github.io/" style="background-image: url(/images/logo.png)"><span class="hidden">Junlong's Picture</span></a>
</figure>


<section class="author">
  <h4><a href="https://jun-long.github.io/">Junlong</a></h4>
  
  <p>智能改造家</p>
  
  <div class="author-meta">
    <span class="author-location icon-location">Hubei, China</span>
    <span class="author-link icon-link"><a href="https://jun-long.github.io">https://jun-long.github.io</a></span>
  </div>
</section>




    
<section class="share">
  <h4>Share this post</h4>
  <a class="icon-twitter" style="font-size: 1.4em" href="https://twitter.com/share?text=%e6%a0%91%e8%8e%93%e6%b4%be%20%2b%20Home%20Assistant%20%2b%20HomeKit%20%e4%bb%8e%e9%9b%b6%e5%bc%80%e5%a7%8b%e6%89%93%e9%80%a0%e4%b8%aa%e4%ba%ba%e6%99%ba%e8%83%bd%e5%ae%b6%e5%b1%85%e7%b3%bb%e7%bb%9f%ef%bc%881%ef%bc%89%ef%bc%9a%e5%89%8d%e8%a8%80&nbsp;-&nbsp;%e6%99%ba%e8%83%bd%e6%94%b9%e9%80%a0%e5%ae%b6&amp;url=https%3a%2f%2fjun-long.github.io%2fpost%2f15037439183374%2f"
      onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
      <span class="hidden">Twitter</span>
  </a>
  <a class="icon-facebook" style="font-size: 1.4em" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fjun-long.github.io%2fpost%2f15037439183374%2f"
      onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
      <span class="hidden">Facebook</span>
  </a>
  
  <a class="icon-google-plus" style="font-size: 1.4em" href="https://plus.google.com/share?url=https%3a%2f%2fjun-long.github.io%2fpost%2f15037439183374%2f"
     onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
      <span class="hidden">Google+</span>
  </a>
</section>



    







  </footer>
</article>

</main>


  <aside class="read-next">
  
      <a class="read-next-story" style="background-image: url(https://i.loli.net/2017/08/25/599ff33529294.jpg)" href="https://jun-long.github.io/post/15037439183451/">
          <section class="post">
              <h2>树莓派 &#43; Home Assistant &#43; HomeKit 从零开始打造个人智能家居系统（2）：准备与安装 Home Assistant</h2>
              
          </section>
      </a>
  
  
</aside>



    <footer class="site-footer clearfix">
        <section class="copyright"><a href="">智能改造家</a> &copy; 2017</section>
        
        <section class="poweredby">Proudly generated by <a class="icon-hugo" href="http://gohugo.io">HUGO</a>, with <a class="icon-theme" href="https://github.com/vjeantet/hugo-theme-casper">Casper</a> theme</section>
        
    </footer>
    </div>
    <script type="text/javascript" src="https://jun-long.github.io/js/jquery.js"></script>
    <script type="text/javascript" src="https://jun-long.github.io/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="https://jun-long.github.io/js/index.js"></script>
    
</body>
</html>

